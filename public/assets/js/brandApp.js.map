{"version":3,"sources":["node_modules/browser-pack/_prelude.js","../../src/brandApp.js","../../src/components/common/config/authConfig.js","../../src/components/common/config/loadingConfig.js","src/components/common/directives/formField.js","../../src/components/common/directives/formSet.js","../../src/components/common/directives/imageThumb.js","../../src/components/common/directives/ncAlert.js","../../src/components/common/directives/ngMatch.js","../../src/components/common/directives/scientificCard.js","../../src/components/common/directives/socialLinker.js","../../src/components/common/filters/capitalize.js","../../src/components/common/helpers/api.js","../../src/components/common/helpers/json.js","../../src/components/common/helpers/storage.js","../../src/components/common/helpers/uploader.js","../../src/components/common/helpers/virtualStatus.js","../../src/components/common/index.js","../../src/modules/brand/brandAccountController.js","../../src/modules/brand/brandCampaignController.js","../../src/modules/brand/brandInfluencerController.js","../../src/modules/brand/brandSubmissionController.js","../../src/modules/brand/index.js"],"names":[],"mappings":"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","file":"brandApp.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * Influencer app\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.3\n */\n'use strict';\n\nvar components = [\n\trequire('./modules/brand')\n];\n\nangular.module('app', components)\n  .run(function($state, $rootScope, $storage) {\n    $state.go('campaign-list');\n  });\n","/**\n * Setup satellizer configuration\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @author     Pat Sabpisal <ecegrid@gmail.com>\n * @since      0.0.2\n */\n'use strict';\n\nangular.module('app.common')\n\t.config(function($authProvider) {\n\t\t$authProvider.baseUrl = process.env.API_URI;\n\t\t$authProvider.facebook({\n\t\t\tclientId: process.env.FACEBOOK_APP_ID,\n      scope: ['pages_show_list', 'manage_pages']\n\t\t});\n\n    //Google account - but youtube only\n    $authProvider.google({\n      clientId: process.env.GOOGLE_CLIENT_ID,\n      scope: ['https://www.googleapis.com/auth/youtube', 'https://www.googleapis.com/auth/userinfo.email']\n    });\n\n    //Instagram\n    $authProvider.instagram({\n      clientId: process.env.INSTAGRAM_CLIENT_ID,\n      scope: ['likes', 'public_content', 'basic']\n    });\n\n\n\t});\n","/**\n * Setup loading bar\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com>\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n  .config(['cfpLoadingBarProvider', function(cfpLoadingBarProvider) {\n    cfpLoadingBarProvider.includeSpinner = false;\n  }])","\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zc2FicGlzYS9zcmMvYWhhbmNlci9yZWFjaHJhYmJpdC1jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uL2RpcmVjdGl2ZXMvZm9ybUZpZWxkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiIl19","/**\n * Set of form fields with functionalities\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n    /*\n    * Checkbox list of interested topics\n    */\n    .directive('fsInterestsSelector', function ($uploader, $api) {\n        return {\n            restrict: 'AE',\n            scope: {\n              model: '=ngModel' //selected object\n            },\n            templateUrl: 'templates/fs-interests-selector.html',\n            link: function (scope, elem, attrs, form) {\n\n                scope.topics = [];\n                //get cat list\n                $api({\n                  method: 'GET',\n                  url: '/data/categories'\n                }).then(function(data) {\n                  scope.topics = data;\n                }).catch(function(err) {\n                  console.error(\"fsInterestsSelector\", err);\n                });\n\n                scope.topicExists = function(item) {\n                  return scope.model.indexOf(item.categoryId) !== -1;\n                }\n                scope.topicDisabled = function(item) {\n                  return scope.model.length >= 3 && !scope.topicExists(item, scope.model)\n                }\n                scope.topicToggle = function(item) {\n                  if (scope.topicDisabled(item, scope.model)) return;\n                  if (scope.topicExists(item, scope.model)) {\n                    _.remove(scope.model, function(x) {\n                      return x == item.categoryId\n                    })\n                  } else {\n                    scope.model.push(item.categoryId)\n                  }\n                }\n\n            }\n        }\n    })\n    /*\n    * Bank selector\n    */\n    .directive('fsBankSelector', function ($api) {\n      return {\n        restrict: 'AE',\n        scope: {\n          model: '=ngModel'\n        },\n        templateUrl: 'templates/fs-bank-selector.html',\n        link: function(scope, elem, attrs, form){\n                scope.banks = [];\n\n                $api({\n                  method: 'GET',\n                  url: '/data/banks'\n                }).then(function(data) {\n                  scope.banks = data;\n                }).catch(function(err) {\n                  console.error(\"fsBankInfoSelector\", err);\n                });\n\n        }\n      }\n    })\n    .directive('fsMediaSelector', function ($api) {\n      return {\n        restrict: 'AE',\n        scope: {\n          model: '=ngModel'\n        },\n        templateUrl: 'templates/fs-media-selector.html',\n        link: function(scope, elem, attrs, form){\n                scope.medium = [];\n\n                $api({\n                  method: 'GET',\n                  url: '/data/medium'\n                }).then(function(data) {\n                  scope.medium = data;\n                }).catch(function(err) {\n                  console.error(\"fsMediaSelector\", err);\n                });\n\n        }\n      }\n    })\n    .directive('fsCampaignCategorySelector', function ($api) {\n      return {\n        restrict: 'AE',\n        scope: {\n          model: '=ngModel'\n        },\n        templateUrl: 'templates/fs-campaign-category-selector.html',\n        link: function(scope, elem, attrs, form){\n                scope.categories = [];\n\n                $api({\n                  method: 'GET',\n                  url: '/data/categories'\n                }).then(function(data) {\n                  scope.categories = data;\n                }).catch(function(err) {\n                  console.error(\"fsCampaignCategorySelector\", err);\n                });\n\n        }\n      }\n    });\n\n","/**\n * Image Thumbnail with uploader\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n    .directive('imageThumb', function ($uploader) {\n        return {\n            restrict: 'AE',\n            scope: {\n              width: '=',\n              height: '=',\n              noImageUrl: '@?',\n              model: '=ngModel',\n              accessor: '&?'  //function that defines how to access the url of the model\n            },\n            templateUrl: 'templates/image-thumb.html',\n            link: function (scope, elem, attrs, form) {\n              var noImage = scope.noImageUrl || 'http://orig03.deviantart.net/561f/f/2014/315/9/c/'+\n              'rabbit_doubt_mask_avatar_for_facebook_by_facebookavatars-d8622bz.png';\n\n              if(!scope.accessor){\n                scope.accessor = function(data){\n                  if(!scope.model) return noImage;\n                  return data.url;\n                }\n              }\n\n              scope.loadingImage = false;\n              scope.upload = function(file) {\n                scope.loadingImage = true;\n                $uploader.upload('/file', file)\n                .then(function(data) {\n                  scope.loadingImage = false;\n                  scope.model = data;\n                });\n              };\n\n\n            }\n        }\n    });\n","/**\n * Alert bar\n */\nangular.module('app.common')\n  .provider('$ncAlert', function() {\n    this.defaultErrorMessage = 'Error';\n    this.defaultSuccessMessage = 'Success';\n    this.$get = function() {\n      return this;\n    };\n  })\n  //alert directive\n  .directive('ncAlert', function($templateCache, NcAlert) {\n    return {\n      restrict: 'E',\n      scope: {\n        alert: '=ncModel'\n      },\n      templateUrl: 'templates/nc-alert.html',\n      link: function(scope, elem) {\n        //alert\n        scope.$watch('alert', function(newObj) {\n          if(newObj instanceof NcAlert) {\n            scope.alert.element = elem;\n          }\n        })\n      }\n    }\n  })\n  //alert class\n  .factory('NcAlert', function($document, $timeout, $ncAlert) {\n    return function() {\n      var vm = this;\n      this.type = 'danger';\n      this.show = false;\n      this.close = function() {\n        this.show = false;\n      };\n      //show bar\n      this.open = function(success, msg, color) {\n        color = _.isNil(color) ? 'danger' : color;\n        this.type = (success) ? 'success' : color;\n\n        if(msg) {\n          this.message = msg;\n        } else {\n          this.message = success ? $ncAlert.defaultSuccessMessage : $ncAlert.defaultErrorMessage;\n        }\n\n        this.show = true;\n      };\n      //show red bar\n      this.error = function(obj, toElm, scroll) {\n        this.open(false, obj);\n\n        $timeout(function() {\n          var section = vm.element || $document;\n          //should scroll to bar\n          // if(!_.isNil(scroll)) {\n          //   // if(scroll)\n          //     // smoothScroll(toElm ? vm.element[0] : $document[0].body, {\n          //     //   container: toElm ? '.modal': null\n          //     // });\n\n          // } else {\n          //   // smoothScroll(toElm ? vm.element[0] : $document[0].body, {\n          //   //   container: toElm ? '.modal': null\n          //   // });\n          // }\n        }, 10);\n      };\n      //show green bar\n      this.success = function(obj, toElm) {\n        this.open(true, obj);\n\n        $timeout(function() {\n          var section = vm.element || $document;\n          // smoothScroll(toElm ? vm.element[0] : $document[0].body, {\n            // container: toElm ? '.modal': null\n          // });\n        }, 10);\n      };\n      this.message = '';\n    };\n  });\n","/**\n * NgModel validator for checking if two text field matches\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @since      0.0.1\n */\n'use strict';\nangular.module('app.common')\n  .directive('ngMatch', function() {\n    return {\n      restrict: 'A',\n      require: 'ngModel',\n      link: function(scope, element, attrs, ctrl) {\n        if(!ctrl) {\n          return;\n        }\n        var match = undefined;\n\n        attrs.$observe('ngMatch', function(val) {\n          match = val;\n          ctrl.$validate();\n        });\n\n        ctrl.$validators.match = function(modelValue, viewValue) {\n          var value = modelValue || viewValue;\n          return (!match) || (value === match);\n        };\n      }\n    };\n  });\n","/**\n * Scientific Card\n * - It's not magic. It's science.\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com>\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n  .directive('scientificCard', function($api, $storage, $uibModal, $auth) {\n    return {\n      restrict: 'AE',\n      scope: {\n        model: '=ngModel',\n        getStatus: '=?getStatus'\n      },\n      templateUrl: function(tElement, tAttrs) {\n            return \"templates/scientific-card-\" + tAttrs.cardType + \".html\";\n      },\n      link: function(scope, elem, attrs, form) {\n        if(!scope.getStatus){\n          scope.getStatus = function(card){\n            var status = card.virtualStatus || card.status;\n            return status[0].toUpperCase() + status.substr(1);\n          }\n        }\n      }\n    }\n  });\n","/**\n * Social Linker Pills\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com>\n * @since      0.0.2\n */\n'use strict';\n\nangular.module('app.common')\n  .directive('socialLinker', function($api, $storage, $uibModal, $auth) {\n    return {\n      restrict: 'AE',\n      scope: {\n        model: '=ngModel', //dictionary model where key is social , ex {'instagram' : <profileObject> }\n        accessor: '&?', //function that defines how to access the url of the model,\n        onSuccess: '=?', //resolves with { user: UserObject, page: PageObject }\n        onFail: '=?',\n        onAlreadyLoggedIn: '=?'\n      },\n      templateUrl: 'templates/social-linker.html',\n      link: function(scope, elem, attrs, form) {\n        scope.linkedWith = function(key) {\n          return key in scope.model;\n        }\n        scope.medium = []\n\n        //get medium list\n        $api({\n          method: 'GET',\n          url: '/data/medium'\n        }).then(function(data) {\n          scope.medium = data;\n          console.log(scope.medium)\n        }).catch(function(err) {\n          console.error(\"Medium list fetch failure\", err);\n        });\n\n        function showFbPageChooser(fbUser) {\n          var modalInstance = $uibModal.open({\n            animation: true,\n            templateUrl: 'templates/social-linker-fb-pages.html',\n            controller: function($scope, fbUser, $uibModalInstance) {\n              console.log('fbUser', fbUser);\n              $scope.pages = fbUser.accounts;\n              //on user select page\n              $scope.choose = function(page) {\n                //end of facebook flow\n                console.log(\"User did select page\", page);\n\n                $uibModalInstance.close();\n\n                //assign model\n                scope.model['facebook'] = {\n                  socialId: fbUser.id,\n                  token: fbUser.token,\n                  mediaId: 'facebook',\n                  pageId: page.id\n                };\n\n                alert('Linked to Facebook account');\n\n                if (scope.onSuccess) {\n                  scope.onSuccess({\n                    user: fbUser,\n                    page: page,\n                    provider: 'facebook',\n                    modelBind: scope.model['facebook']\n                  });\n                }\n\n              }\n            },\n            backdrop:'static',\n            size: 'md',\n            resolve: {\n              fbUser: function() {\n                return fbUser;\n              }\n            }\n          });\n\n        };\n\n        scope.linkWith = function(key) {\n            $auth.authenticate(key)\n              .then(function(res) {\n\n                console.log('linkWith resolve', res);\n                if(res.data.isLogin) {\n                  $storage.putAuth(res.data.token);\n                  if(scope.onAlreadyLoggedIn){\n                    scope.onAlreadyLoggedIn(res.data);\n                  }\n                }\n\n                if (key == 'facebook') {\n                  //Facebook special case\n                  //Flow not over yet\n                  showFbPageChooser(res.data);\n                } else {\n                  alert('Linked to ' + key + ' account');\n\n                  //Other case, flow is over\n                  //set social profile model\n                  scope.model[key] = {\n                    socialId: res.data.id,\n                    token: res.data.token,\n                    mediaId: key,\n                    pageId: null\n                  };\n\n                  if (scope.onSuccess) {\n                    scope.onSuccess({\n                      user: res.data,\n                      page: null,\n                      provider: key,\n                      modelBind: scope.model[key]\n                    });\n                  }\n                }\n\n\n\n              })\n              .catch(function(err) {\n                if (!err) return;\n\n                //TODO replace with generic error handler\n                if (err.data && err.data.display) {\n                  alert(err.data.display.title);\n                }\n                console.warn(err);\n                if (scope.onFail) scope.onFail(err);\n              });\n          } //linkWith\n\n\n\n      }\n    }\n  });\n","/**\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com>\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n    .filter('capitalize', function() {\n      return function(input, all) {\n        var reg = (all) ? /([^\\W_]+[^\\s-]*) */g : /([^\\W_]+[^\\s-]*)/;\n        return (!!input) ? input.replace(reg, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();}) : '';\n      }\n    });\n","/**\n * API service\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.3\n */\n'use strict';\n\nangular.module('app.common')\n  .factory('$api', function($http, $storage, $q, $state) {\n    var service = function(opts) {\n      var defer = $q.defer();\n      var token = $storage.getAuth();\n      if(!opts.headers) {\n        opts.headers = {};\n      }\n      if(token) {\n        opts.headers.Authorization = 'JWT ' + token;\n      }\n      if(opts.url.indexOf('http') !== 0) {\n        opts.url = process.env.API_URI + opts.url;\n      }\n      opts.skipAuthorization = true;\n\n      // endpoint\n      $http(opts).then(function(result) {\n        defer.resolve(result.data);\n      }).catch(function(err) {\n        console.log(\"Error\", err);\n        if(err.status == 401){\n          $state.go('error', {code: 401, description: err });\n        }\n        defer.reject(err);\n      });\n\n      return defer.promise;\n    };\n\n    return service;\n  })\n  .filter('reverse', function() {\n    return function(items) {\n      return items.slice().reverse();\n    };\n  });\n","/**\n * JSON service (overrides default JSON serializer)\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n    .factory('$json', function ($http, $storage, $q) {\n        //Credit to @RickStrahl\n            var reISO = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*))(?:Z|(\\+|-)([\\d|:]*))?$/;\n            var reMsAjax = /^\\/Date\\((d|-|.*)\\)[\\/|\\\\]$/;\n\n            /// <summary>\n            /// set this if you want MS Ajax Dates parsed\n            /// before calling any of the other functions\n            /// </summary>\n            JSON.parseMsAjaxDate = false;\n  \n            JSON.useDateParser = function (reset) {\n                /// <summary>\n                /// Globally enables JSON date parsing for JSON.parse().\n                /// replaces the default JSON parser with parse plus dateParser extension \n                /// </summary>    \n                /// <param name=\"reset\" type=\"bool\">when set restores the original JSON.parse() function</param>\n\n                // if any parameter is passed reset\n                if (typeof reset != \"undefined\") {\n                    if (JSON._parseSaved) {\n                        JSON.parse = JSON._parseSaved;\n                        JSON._parseSaved = null;\n                    }\n                } else {\n                    if (!JSON.parseSaved) {\n                        JSON._parseSaved = JSON.parse;\n                        JSON.parse = JSON.parseWithDate;\n                    }\n                }\n            };\n\n            JSON.dateParser = function (key, value) {\n                /// <summary>\n                /// Globally enables JSON date parsing for JSON.parse().\n                /// Replaces the default JSON.parse() method and adds\n                /// the datePaser() extension to the processing chain.\n                /// </summary>    \n                /// <param name=\"key\" type=\"string\">property name that is parsed</param>\n                /// <param name=\"value\" type=\"any\">property value</param>\n                /// <returns type=\"date\">returns date or the original value if not a date string</returns>\n                if (typeof value === 'string') {\n                    var a = reISO.exec(value);\n                    if (a)\n                        return new Date(value);\n\n                    if (!JSON.parseMsAjaxDate)\n                        return value;\n\n                    a = reMsAjax.exec(value);\n                    if (a) {\n                        var b = a[1].split(/[-+,.]/);\n                        return new Date(b[0] ? +b[0] : 0 - +b[1]);\n                    }\n                }\n                return value;\n            };\n\n            JSON.parseWithDate = function (json) {\n                /// <summary>\n                /// Wrapper around the JSON.parse() function that adds a date\n                /// filtering extension. Returns all dates as real JavaScript dates.\n                /// </summary>    \n                /// <param name=\"json\" type=\"string\">JSON to be parsed</param>\n                /// <returns type=\"any\">parsed value or object</returns>\n                var parse = JSON._parseSaved ? JSON._parseSaved : JSON.parse;\n                try {\n                    var res = parse(json, JSON.dateParser);\n                    return res;\n                } catch (e) {\n                    // orignal error thrown has no error message so rethrow with message\n                    throw new Error(\"JSON content could not be parsed\");\n                }\n            };\n\n            JSON.dateStringToDate = function (dtString, nullDateVal) {\n                /// <summary>\n                /// Converts a JSON ISO or MSAJAX date or real date a date value.\n                /// Supports both JSON encoded dates or plain date formatted strings\n                /// (without the JSON string quotes).\n                /// If you pass a date the date is returned as is. If you pass null\n                /// null or the nullDateVal is returned.\n                /// </summary>    \n                /// <param name=\"dtString\" type=\"var\">Date String in ISO or MSAJAX format</param>\n                /// <param name=\"nullDateVal\" type=\"var\">value to return if date can't be parsed</param>\n                /// <returns type=\"date\">date or the nullDateVal (null by default)</returns> \n                if (!nullDateVal)\n                    nullDateVal = null;\n\n                if (!dtString)\n                    return nullDateVal; // empty\n\n                if (dtString.getTime)\n                    return dtString; // already a date\n\n                if (dtString[0] === '\"' || dtString[0] === \"'\")\n                    // strip off JSON quotes\n                    dtString = dtString.substr(1, dtString.length - 2);\n\n                var a = reISO.exec(dtString);\n                if (a)\n                    return new Date(dtString);\n\n                if (!JSON.parseMsAjaxDate)\n                    return nullDateVal;\n\n                a = reMsAjax.exec(dtString);\n                if (a) {\n                    var b = a[1].split(/[-,.]/);\n                    return new Date(+b[0]);\n                }\n                return nullDateVal;\n            };\n        JSON.useDateParser();\n        console.log(\"Init $json\")\n        return JSON.parse;\n    });\n","/**\n * Local storage service\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n  .factory('$storage', function($window) {\n    var service = {};\n    var uniqueKey = 'projectx.';\n\n    return {\n      has: function(key) {\n        return !_.isNil(this.get(key));\n      },\n      get: function(key) {\n        var obj = $window.localStorage.getItem(uniqueKey + key);\n        if(_.isString(obj)) {\n          try {\n            return CJSON.parse(obj);\n          }\n          catch(e) {\n            return obj;\n          }\n        }\n        return obj;\n      },\n      put: function(key, object) {\n        var obj = _.isPlainObject(object) ? CJSON.stringify(object) : object;\n        $window.localStorage.setItem(uniqueKey + key, obj);\n      },\n      remove: function(key) {\n        $window.localStorage.removeItem(uniqueKey + key);\n      },\n      putAuth: function(token) {\n        this.put('auth', token);\n      },\n      getAuth: function() {\n        return this.get('auth');\n      },\n      removeAuth: function() {\n        this.remove('auth');\n      }\n    };\n  });\n","/**\n * File uploader service\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n  .factory('$uploader', function(Upload, $q) {\n    var service = {};\n\n    service.upload = function(url, file, data, opts) {\n      var deferred = $q.defer();\n      var options = _.extend({\n        url: process.env.API_URI + url,\n        data: _.extend({}, data, { file: file }),\n        skipAuthorization: true\n      }, opts);\n\n      // upload on url\n      Upload.upload(options).then(function(data) {\n        deferred.resolve(data.data);\n      }, deferred.reject);\n\n      return deferred.promise;\n    };\n\n    return service;\n  });\n","\n/**\n * Virtual status\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.common')\n    .factory('VirtualStatus', function ($http, $storage, $q) {\n        return {\n          isApplied: function(campaignObject){\n            var profile = $storage.get('profile');\n            console.log('prof', profile);\n            var isApplied = _.find(campaignObject.campaignProposals, function(x){\n              return x.influencerId === profile.influencer.influencerId\n            });\n            return (campaignObject.status == 'open' ||\n              campaignObject.status == 'payment pending' ||\n              campaignObject.status == 'wait for confirm' ||\n              campaignObject.status == 'wait for payment') && isApplied;\n          }\n        }\n    });\n","/**\n * common components\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @since      0.0.1\n */\n'use strict';\n\nvar components = [\n  'ngSanitize',\n\t'ui.router',\n\t'angularCSS',\n\t'satellizer',\n  'ngFileUpload',\n  'ui.bootstrap',\n  'angular-loading-bar'\n];\n\nangular.module('app.common', components)\n.controller('errorController', function($scope, $state){\n  console.log($state.params);\n  $scope.code = $state.params.code;\n  $scope.description = $state.params.description;\n})\n.run(function($json, $rootScope, $storage) {\n\n      $rootScope.getProfile = function(){\n        return $storage.get('profile');\n      }\n\n      $rootScope.getRouteByStatus = function(card){\n        if(card.status == 'payment pending' ||\n          card.status == 'wait for payment' ||\n          card.status == 'wait for confirm'){\n          return 'open';\n        }\n        return (card.status || '').toLowerCase();\n      }\n\n      $rootScope.getRouteByStatusApplied = function(card){\n        if(card.status == 'payment pending' ||\n          card.status == 'wait for payment' || card.status == 'open' ||\n          card.status == 'wait for confirm'){\n          return 'applied';\n        }\n        return (card.status || '').toLowerCase();\n      }\n\n      $rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {\n       console.error('Router change error', event, toState, toParams, fromState, error);\n      });\n\n      $rootScope.$on('$stateChangeSuccess', function (event, toState, toParams, fromState, fromParams, error) {\n       console.log('Router change success', event, toState, toParams, fromState, error);\n      });\n\n\n  });\n\n\nvar bulk = require('bulk-require');\nbulk(__dirname, ['**/*.js', '!index.js']);\n\nmodule.exports = 'app.common';\n","/**\n * brand module\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.2\n */\n'use strict';\nangular.module('app.brand')\n  .controller('brandAccountProfileController', function ($scope, NcAlert, $state, $api, $uploader, $storage) {\n    //Hacky, will change after TODO: Friday\n    document.getElementsByTagName(\"body\")[0].style.backgroundImage = \"none\";\n    document.getElementsByTagName(\"body\")[0].style.backgroundColor = \"#ebebeb\";\n    $scope.formData = {\n\n    };\n    $scope.alert = new NcAlert();\n\n    $scope.saveProfile = function(){\n      //get user info\n      $api({\n        method: 'PUT',\n        url: '/profiles',\n        data: $scope.formData\n      }).then(function (data) {\n        $scope.formData = _.extend($scope.formData, data);\n        $scope.alert.success(\"Profile Updated\");\n      }).catch(function (err) {\n        console.log(err);\n        $scope.alert.error(\"Oops! Blame the D Team\");\n      });\n\n    }\n\n    //get user info\n    $api({\n      method: 'GET',\n      url: '/profiles'\n    }).then(function (data) {\n      $scope.formData = _.extend($scope.formData, data);\n    }).catch(function (err) {\n      console.log(err);\n      $scope.alert.error(\"Oops! Blame the D Team\");\n    });\n\n  });\n","/**\n * brand module\n *\n * @author     Poon Wu <poon.wuthi@gmail.com>\n * @author     Pat Sabpisal <ecegrid@gmail.com>\n * @since      0.0.2\n */\n'use strict';\n\nangular.module('app.brand')\n  .controller('brandTransactionListController', function($scope, $state, $stateParams,  $api){\n      console.log(\"Transaction loaded\");\n      $scope.transactions = [];\n      $api({\n        url: \"/transactions\",\n        \"method\": \"GET\"\n      }).then(function(data){\n        $scope.transactions = data.rows;\n      })\n  })\n\t.controller('brandCampaignPaymentController', function($scope, $state, $stateParams,  $api, campaign){\n\t\t$scope.campaign = campaign;\n    $scope.paymentObject = {};\n\t\t$scope.campaign.selectedProposals = _.compact($scope.campaign.campaignProposals.map(function(o){ if(o.isSelected) return o; }));\n    $scope.sumFee = $scope.campaign.selectedProposals.reduce(function(total, num){\n      return total + Number(num.proposePrice);\n    },0);\n\n    $scope.allProposals = $stateParams.allProposals || 0;\n    $scope.countSelected = $stateParams.selected || 0;\n    $scope.countBudget = $stateParams.budget || 0;\n    $scope.countReach = $stateParams.reach || 0;\n\n\t\t$scope.goBack = function() {\n\t\t\t$state.go('^');\n\t\t}\n\n    $scope.readyToPay = function(){\n      console.log('readyToPay')\n      $api({\n        method: \"POST\",\n        url: \"/campaigns/\" + $stateParams.campaignId + '/transactions'\n      }).then(function(success){\n        $state.go(\"campaign-list\", { alert: \"Campaign now waiting for payment. \"})\n      }).catch(function(err){\n        console.error(err);\n      })\n    }\n\n    $scope.sendSlip = function(p){\n      $api({\n        method: \"PUT\",\n        url: \"/campaigns/\" + $stateParams.campaignId + '/transactions',\n        data: p\n      }).then(function(success){\n        $state.go(\"^\", {\n          campaignId: $stateParams.campaignId,\n          alert: \"Thank you for the slip. Your campaign status will be updated when our system administrator approves your transaction.\"})\n      })\n    }\n\n\t})\n\t.controller('brandCampaignProposalDetailController', function ($scope, NcAlert, $state, $api, $window, $uibModal, $stateParams) {\n\t\t$scope.goBack = function () {\n\t\t\t//go back\n\t\t\t$state.go('^');\n\t\t}\n\n    $scope.alert = new NcAlert();\n\n\t\tif (!$stateParams.user) {\n\t\t\treturn alert(\"You're not supposed to be here bitch.\");\n\t\t}\n    console.log($stateParams.user)\n\n\t\t$scope.proposal = $stateParams.user.influencer.campaignProposals[0];\n\t\t$scope.influencers = [$stateParams.user];\n\n\t\t$scope.askForRevision = function (proposal) {\n\t\t\tvar tmpl = 'partials/modal-revision-proposal.html';\n\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\tanimation: true,\n\t\t\t\ttemplateUrl: tmpl,\n\t\t\t\tcontroller: function ($scope, $api, $uibModalInstance, proposal) {\n\t\t\t\t\t$scope.formData = proposal;\n          $scope.formData.status = \"need revision\";\n\t\t\t\t\t$scope.saveComment = function () {\n\t\t\t\t\t\tconsole.log(\"Saving\")\n\t\t\t\t\t\t$api({\n\t\t\t\t\t\t\turl: '/campaigns/' + proposal.campaignId + '/proposals/' + proposal.proposalId,\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tdata: $scope.formData\n\t\t\t\t\t\t}).then(function (data) {\n\t\t\t\t\t\t\t$uibModalInstance.close(data);\n\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\talert(\"Can't save! Nien.\")\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsize: 'lg',\n\t\t\t\tresolve: {\n\t\t\t\t\t'proposal': function () {\n\t\t\t\t\t\treturn proposal;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmodalInstance.result.then(function (data) {\n\t\t\t\tconsole.log(data);\n        $state.go(\"campaign-list.open\", { alert: 'Revision requested'});\n        $api({\n          method: 'PUT',\n          url: '/campaigns/' + $stateParams.campaignId + '/proposals/' + proposal.proposalId,\n          data: _.extend({}, proposal, {status: 'need revision'})\n        })\n        .then(function(data) {\n          $scope.proposal = data;\n        });\n\t\t\t}, function () {\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\n\t\t\t});\n\n\n\t\t}\n\n\t\t$scope.selectProposal = function (proposal) {\n\t\t\t$api({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\turl: '/campaigns/' + $stateParams.campaignId + '/proposals/' + proposal.proposalId,\n\t\t\t\tdata: _.extend({}, proposal, {isSelected: true})\n\t\t\t})\n\t\t\t.then(function(data) {\n\t\t\t\t$scope.proposal = data;\n\t\t\t});\n\t\t}\n\n\t\t$scope.unselectProposal = function (proposal) {\n\t\t\t$api({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\turl: '/campaigns/' + $stateParams.campaignId + '/proposals/' + proposal.proposalId,\n\t\t\t\tdata: _.extend({}, proposal, {isSelected: false})\n\t\t\t})\n\t\t\t.then(function(data) {\n\t\t\t\t$scope.proposal = data;\n\t\t\t});\n\t\t}\n\n\t})\n\t.controller('brandCampaignDetailOpenController', function ($scope, NcAlert, $api, $state, $stateParams) {\n\t\t$scope.formData = {};\n    $scope.alert = new NcAlert();\n\t\t$scope.formDataArray = [];\n\t\t$scope.proposals = [];\n\t\tif (!$stateParams.campaignId) {\n\t\t\t$scope.alert.error(\"No campaign ID provided\");\n\t\t}\n\n    if($stateParams.alert){\n      $scope.alert.success($stateParams.alert);\n    }\n\n    $scope.sumBudgetSelected = function(x){\n      return x.reduce(function(prev, cur){\n        return prev + Number(cur.influencer.campaignProposals[0].proposePrice);\n      }, 0);\n    }\n\n    $scope.countSelected = function(x){\n      return x.reduce(function(prev, cur){\n        return prev + Number(cur.influencer.campaignProposals[0].isSelected ? 1 : 0);\n      }, 0);\n    }\n\n\t\t$scope.reviewAndPay = function(){\n\t\t\t$state.go('campaign-list.open.pay', { campaign: $scope.formData });\n\t\t}\n\n\t\t$api({\n\t\t\tmethod: 'GET',\n\t\t\turl: '/campaigns/' + $stateParams.campaignId\n\t\t}).then(function (data) {\n\t\t\t$scope.formData = data;\n\t\t\t$scope.formDataArray = [$scope.formData];\n\t\t}).catch(function (err) {\n\t\t\tconsole.error(\"cant get campaign data\", err);\n\t\t});\n\n\t\t$api({\n\t\t\tmethod: 'GET',\n\t\t\turl: '/campaigns/' + $stateParams.campaignId + '/proposals'\n\t\t}).then(function (data) {\n\t\t\t$scope.proposals = data.rows;\n\t\t}).catch(function (err) {\n\t\t\tconsole.error(\"can't get proposals\", err);\n\t\t});\n\n\t})\n\t.controller('brandCampaignDetailDraftController', function ($scope, $state, $api, $stateParams) {\n\t\tvar method = 'POST';\n\t\tvar url = '/campaigns';\n\n\t\t$scope.formData = {\n\t\t\tstatus: 'draft',\n\t\t\tresources: [],\n\t\t\tmedia: []\n\t\t};\n\n\t\tif ($stateParams.campaignId) {\n\t\t\t$api({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: '/campaigns/' + $stateParams.campaignId\n\t\t\t}).then(function (data) {\n\t\t\t\t$scope.formData = data;\n\t\t\t\tmethod = 'PUT';\n\t\t\t\turl = url + '/' + $stateParams.campaignId;\n\t\t\t}).catch(function (err) {\n\t\t\t\tconsole.error(\"bad stuff happened\", err);\n\t\t\t});\n\t\t}\n\n\t\tfunction save() {\n\t\t\t$api({\n\t\t\t\tmethod: method,\n\t\t\t\turl: url,\n\t\t\t\tdata: $scope.formData\n\t\t\t}).then(function (data) {\n\t\t\t\t$state.go('campaign-list', { alert : \"Campaign saved successfully. \"});\n\t\t\t}).catch(function (err) {\n\t\t\t\tconsole.error(\"bad stuff happened\", err);\n\t\t\t});\n\t\t}\n\n\t\t$scope.saveDraft = function () {\n\t\t\tconsole.log(\"Saving as Draft\")\n\t\t\tsave();\n\t\t}\n\n\t\t$scope.savePublish = function () {\n\t\t\t$scope.formData.status = 'open';\n\n\t\t\tconsole.log(\"Saving as Publish\")\n\t\t\tsave();\n\t\t}\n\n\t})\n\t.controller('brandCampaignListController', function ($scope, $api, $stateParams, NcAlert) {\n\t\t$scope.campaigns = [];\n\t\t$api({\n\t\t\tmethod: 'GET',\n\t\t\turl: '/campaigns'\n\t\t}).then(function (data) {\n\t\t\t$scope.campaigns = data;\n      $scope.alert = new NcAlert();\n      if($stateParams.alert){\n          $scope.alert.success($stateParams.alert);\n      }\n\t\t});\n\t});\n","/**\n * brand module\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.2\n */\n'use strict';\nangular.module('app.brand')\n  .controller('brandInfluencerListController', function($scope, $api) {\n    $scope.users = [];\n    $api({\n      method: 'GET',\n      url: '/users/influencer',\n    })\n    .then(function(data) {\n      $scope.users = data.rows;\n    });\n  })\n  .controller('brandInfluencerDetailController', function($scope, $api, $stateParams) {\n    $scope.user = {};\n    $api({\n      method: 'GET',\n      url: '/users/influencer/' + $stateParams.id\n    })\n    .then(function(data) {\n      $scope.user = data;\n    });\n  });\n","/**\n * Brand submission controllers\n *\n * @author     Pat Sabpisal <ecegrid@gmail.com>\n * @author     Poon Wu <poon.wuthi@gmail.com>\n * @since      0.0.1\n */\n'use strict';\n\nangular.module('app.brand')\n  .controller('brandCampaignSubmissionDetailController', function($scope, $uibModal, NcAlert,$state, $api, $stateParams) {\n    $scope.influencerArray = [];\n    $scope.formData = {};\n    $scope.alert = new NcAlert();\n\n    $api({\n      method: 'GET',\n      url: '/submissions/' + $stateParams.submissionId\n    }).then(function (data) {\n      $scope.formData = data;\n      $scope.influencerArray = [$scope.formData.influencer];\n    }).catch(function (err) {\n      console.error(\"cant get campaign data\", err);\n    });\n\n    $scope.waitForPost = function(submission){\n      var tmpl = 'partials/modal-approve-submission.html';\n      var modalInstance = $uibModal.open({\n        animation: true,\n        templateUrl: tmpl,\n        controller: function ($scope, $api, $uibModalInstance,  alert, submission) {\n          $scope.formData = submission;\n\n          $scope.saveComment = function () {\n            $scope.formData.status = \"wait for post\";\n            $api({\n              url: '/campaigns/' + submission.campaignId + '/submissions/' + submission.submissionId,\n              method: 'PUT',\n              data: $scope.formData\n            }).then(function (data) {\n              $uibModalInstance.close(data);\n            }).catch(function (err) {\n              $uibModalInstance.dismiss(err);\n            });\n          }\n        },\n        size: 'lg',\n        resolve: {\n          'submission': function () {\n            return submission;\n          },\n          'alert': function(){\n            return $scope.alert;\n          }\n        }\n      });\n\n      modalInstance.result.then(function (data) {\n        $state.go(\"campaign-list.production\", { alert: 'Submission approved.'});\n      }, function (err) {\n        console.log('Modal dismissed at: ' + new Date());\n        if(err){\n          $scope.alert.error(err.message);\n        }\n      });\n    }\n\n    $scope.askForRevision = function (submission) {\n      var tmpl = 'partials/modal-revision-proposal.html';\n      var modalInstance = $uibModal.open({\n        animation: true,\n        templateUrl: tmpl,\n        controller: function ($scope, $api, $uibModalInstance,  alert, submission) {\n          $scope.formData = submission;\n\n          $scope.saveComment = function () {\n            $scope.formData.status = \"need revision\";\n            $api({\n              url: '/campaigns/' + submission.campaignId + '/submissions/' + submission.submissionId,\n              method: 'PUT',\n              data: $scope.formData\n            }).then(function (data) {\n              $uibModalInstance.close(data);\n            }).catch(function (err) {\n              $uibModalInstance.dismiss(err);\n            });\n          }\n        },\n        size: 'lg',\n        resolve: {\n          'submission': function () {\n            return submission;\n          },\n          'alert': function(){\n            return $scope.alert;\n          }\n        }\n      });\n\n      modalInstance.result.then(function (data) {\n        $state.go(\"campaign-list.production\", { alert: 'Revision requested.'});\n      }, function (err) {\n        console.log('Modal dismissed at: ' + new Date());\n        if(err){\n          $scope.alert.error(err.message);\n        }\n      });\n    }\n\n  })\n\t.controller('brandCampaignSubmissionListController', function($scope, $api, NcAlert, $stateParams) {\n    $scope.formDataArray = [];\n    $scope.alert = new NcAlert();\n    $scope.formData = {};\n    $scope.submissions = [];\n\n    if($stateParams.alert){\n      $scope.alert.success($stateParams.alert);\n    }\n\n    $api({\n      method: \"GET\",\n      url: '/campaigns/' + $stateParams.campaignId + \"/submissions\"\n    }).then(function(data){\n      $scope.submissions = data.rows;\n    }).catch(function(err){\n      $scope.alert.error(\"Can't get submissions data\");\n    });\n\n    $api({\n      method: 'GET',\n      url: '/campaigns/' + $stateParams.campaignId\n    }).then(function (data) {\n      $scope.formData = data;\n      $scope.formDataArray = [$scope.formData];\n    }).catch(function (err) {\n      console.error(\"cant get campaign data\", err);\n      $scope.alert.error(\"Can't get campaign data\");\n    });\n\n\n\t});\n","/**\n * Brand module\n *\n * @author     Poon Wu <poon.wuthi@gmail.com\n * @author     Pat Sabpisal <ecegrid@gmail.com\n * @since      0.0.2\n */\n'use strict';\n\nvar components = [\n  require('../../components/common')\n];\n\nangular.module('app.brand', components)\n  .config(function($stateProvider) {\n\n    $stateProvider\n    .state('error', {\n      params: {code: null, description: null},\n      views: {\n          '@': {\n            controller: 'errorController',\n            templateUrl: 'views/common-error.html'\n          }\n      }\n    });\n\n    /*\n    * Main Layout\n    */\n    $stateProvider\n      .state('main', {\n        abstract: true,\n        views: {\n          '@': {\n            templateUrl: 'abstract/main-brand.html'\n          }\n        }\n      });\n\n    /**\n     * Account\n     */\n    $stateProvider\n      .state('profile', {\n        parent: 'main',\n        url: '/profile',\n        views: {\n          '': {\n            controller: 'brandAccountProfileController',\n            templateUrl: 'views/brand-account-profile.html'\n          }\n        }\n      });\n    /**\n     * Influencer\n     */\n    $stateProvider\n      .state('influencer', {\n        parent: 'main',\n        url: '/influencer',\n        controller: 'brandInfluencerListController',\n        templateUrl: 'views/brand-influencer-list.html'\n      })\n      .state('influencer-detail', {\n        parent: 'main',\n        url: '/influencer/:id',\n        controller: 'brandInfluencerDetailController',\n        templateUrl: 'views/brand-influencer-detail.html'\n      });\n\n    /**\n     * Transaction\n    */\n    $stateProvider\n      .state('transaction-list', {\n        parent: 'main',\n        url: '/transactions',\n        controller: 'brandTransactionListController',\n        templateUrl: 'views/brand-transaction-list.html'\n    });\n\n    /**\n     * Campaign\n     */\n    $stateProvider\n      .state('campaign-list', {\n        parent: 'main',\n        url: '/campaign',\n        params: {\n          alert: null\n        },\n        controller: 'brandCampaignListController',\n        templateUrl: 'views/brand-campaign-list.html'\n      })\n      .state('campaign-list.create', {\n        url: '/create',\n        views: {\n           '@main': {\n              controller: 'brandCampaignDetailDraftController',\n              templateUrl: 'views/brand-campaign-detail-draft.html'\n            }\n        }\n      })\n      .state('campaign-list.draft', {\n        url: '/draft/:campaignId',\n         views: {\n          '@main': {\n            controller: 'brandCampaignDetailDraftController',\n            templateUrl: 'views/brand-campaign-detail-draft.html'\n          }\n        }\n      })\n      .state('campaign-list.open', {\n        url: '/open/:campaignId',\n        params: {'alert': null},\n        views: {\n          '@main': {\n            controller: 'brandCampaignDetailOpenController',\n            templateUrl: 'views/brand-campaign-detail-open.html'\n          }\n        }\n      })\n      .state('campaign-list.open.proposal-detail', {\n        url: '/open/:campaignId',\n        params: { user : null},\n        views: {\n          '@main': {\n            controller: 'brandCampaignProposalDetailController',\n            templateUrl: 'views/brand-campaign-proposal-detail.html'\n          }\n        }\n      })\n      .state('campaign-list.production', {\n        url: '/production/:campaignId',\n        params: { alert : null},\n        views: {\n          '@main': {\n            controller: 'brandCampaignSubmissionListController',\n            templateUrl: 'views/brand-campaign-detail-production.html'\n          }\n        }\n      })\n      .state('campaign-list.production.submission-detail', {\n        url: '/submission/:submissionId',\n        views: {\n          '@main': {\n             controller: 'brandCampaignSubmissionDetailController',\n             templateUrl: 'views/brand-submission-detail.html'\n          }\n        }\n      })\n      .state('campaign-list.open.pay', {\n        url: '/payment',\n        params: { campaign : null, allProposals: null, selected: null, budget: null, reach: null},\n        resolve: {\n          campaign: function($stateParams, $api) {\n            return $api({\n              method: 'GET',\n              url: '/campaigns/' + $stateParams.campaignId\n            });\n          }\n        },\n        views: {\n          '@main': {\n            controller: 'brandCampaignPaymentController',\n            templateUrl: 'views/brand-campaign-pay.html'\n          }\n        }\n      });\n  });\n\nrequire('bulk-require')(__dirname, ['**/*.js', '!main.js']);\n\nmodule.exports = 'app.brand';\n"]}